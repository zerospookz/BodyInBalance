<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyCoach • Тренировки и Хранене</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#0b0f17" />
  <style>
    .landing-wrap{min-height:100vh;display:grid;place-items:center;padding:24px;}
    .landing-card{width:min(920px, 94vw);border-radius:24px;border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      box-shadow: 0 18px 50px rgba(0,0,0,.35); padding:22px;}
    .landing-top{display:flex;gap:14px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:16px;}
    .landing-brand{display:flex;gap:12px;align-items:center;}
    .landing-brand .logo{width:52px;height:52px;border-radius:18px;}
    .landing-title{font-size:30px;font-weight:900;margin:0;}
    .landing-sub{color: rgba(154,166,191,.95);margin-top:6px;}
    .landing-grid{display:grid;grid-template-columns: 1.2fr .8fr;gap:16px;align-items:stretch;}
    .landing-hero{border:1px solid rgba(255,255,255,.08);border-radius:22px;padding:18px;background: rgba(0,0,0,.16);}
    .landing-hero h2{margin:0 0 10px 0;font-size:18px;}
    .landing-hero ul{margin:0;padding-left:18px;color: rgba(233,238,252,.92);}
    .landing-actions{border:1px solid rgba(255,255,255,.08);border-radius:22px;padding:18px;background: rgba(0,0,0,.16);display:flex;flex-direction:column;gap:10px;}
    .btn.big{padding:14px 16px;border-radius:18px;font-weight:900;}
    .split{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
    .mini{font-size:12px;color: rgba(154,166,191,.95);line-height:1.5}
    .input-row{display:flex;gap:10px;align-items:center;}
    .input-row input{flex:1;}
    @media (max-width: 980px){ .landing-grid{grid-template-columns:1fr;} .split{grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <div class="landing-wrap">
    <div class="landing-card">
      <div class="landing-top">
        <div class="landing-brand">
          <div class="logo">TF</div>
          <div>
            <h1 class="landing-title">MyCoach</h1>
            <div class="landing-sub">Тренировки • Хранене • Снимки • Чат</div>
          </div>
        </div>
        <div class="mini">Безплатен демо сайт (GitHub Pages).<br/>Клиентите влизат с код.</div>
      </div>

      <div class="landing-grid">
        <div class="landing-hero">
          <h2>Как работи</h2>
          <ul>
            <li>Треньорът добавя план (тренировки + хранене).</li>
            <li>Клиентът влиза с код и маркира изпълнение.</li>
            <li>Преди/След снимки + чат.</li>
          </ul>
          <div class="divider"></div>
          <div class="mini">
            За по-къс линк: направи repo с кратко име (напр. <b>mycoach</b>) и/или използвай Netlify subdomain (безплатно).
          </div>
        </div>

        <div class="landing-actions">
          <div style="font-weight:900">Вход</div>

          <div class="input-row">
            <input id="code" type="text" placeholder="Код за клиент (напр. AB12CD)" class="select" />
            <button id="goClient" class="btn primary big">Клиент</button>
          </div>

          <div class="split">
            <button id="goPortal" class="btn ghost big">Portal (без код)</button>
            <button id="goAdmin" class="btn primary big">Admin</button>
          </div>

          <div class="mini">
            • Клиент линк: <b>portal.html?code=КОД</b><br/>
            • Admin линк: <b>admin.html</b><br/>
            • Ако напишеш код горе → ще отворим директно портала с auto-login.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const codeEl = document.getElementById('code');
    const goClient = document.getElementById('goClient');
    const goPortal = document.getElementById('goPortal');
    const goAdmin = document.getElementById('goAdmin');

    // remember last code (nice app feel)
    try{ const last = localStorage.getItem('last_portal_code') || ''; if(last) codeEl.value = last; }catch(e){}

    function openClient(){
      const code = (codeEl.value || '').trim().toUpperCase();
      if(code){
        try{ localStorage.setItem('last_portal_code', code); }catch(e){}
        window.location.href = `portal.html?code=${encodeURIComponent(code)}`;
      }else{
        window.location.href = 'portal.html';
      }
    }
    goClient.addEventListener('click', openClient);
    goPortal.addEventListener('click', ()=> window.location.href='portal.html');
    goAdmin.addEventListener('click', ()=> window.location.href='admin.html');
    codeEl.addEventListener('keydown', (e)=>{ if(e.key==='Enter') openClient(); });
  </script>
</body>
</html>
